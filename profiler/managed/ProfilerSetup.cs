////////////////////////////////////////////////////////////////////////////////
// Module: ProfilerSetup.cs
////////////////////////////////////////////////////////////////////////////////

namespace ev31 {

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

using System;

using Microsoft.Diagnostics.NETCore.Client;

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

public class ProfilerSetup
{
    private DiagnosticsClient Client { get; set; }

    public ProfilerSetup(int processId)
    {
        this.Client = new DiagnosticsClient(processId);

        this.Client.AttachProfiler(
            new TimeSpan(0, 5, 0), // 5 minute timeout
            Guid.NewGuid(),
            null // Profiler path
        );
    }
}

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

} // namespace (ev31)

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////